=======
Sensors
=======

Class header: ``Stonefish\sensors\Sensor.h``

A rich set of sensors is available in *Stonefish*, including most of the ones specific for the underwater environment. 
The sensors can be divided into three groups: joint sensors, link sensors and vision sensors. Each of the groups is further described below.

All of the sensors share some common properties:

1) **Name:** unique string

2) **Rate:** sensor update frequency [Hz]

3) **Type:** type of the sensor

4) **Origin:** position and orientation of the sensor frame with respect to the parent frame

.. code-block:: xml
    
    <sensor name="{1}" rate="{2}" type="{3}">
        <!-- specific definitions here -->
        <origin xyz="{4a}" rpy="{4b}"/>
    </sensor>

.. note::
    
    In the following sections only the tags specific to each type of the sensor will be defined.

Joint sensors
====================

Class header: ``Stonefish\sensors\scalar\JointSensor.h``

These sensors are attached to the robot joints and measuring their internal state.

The joint sensors share the following common properties:

1) **History length**: the size of the measurement buffer

2) **Joint name**: the name of the robot joint that the sensor is attached to

.. code-block:: xml
    
    <sensor name="..." rate="..." type="..." history="{1}">
        <!-- more specific definitions here -->
        <joint name="{2}">
        <!-- common definitions here -->
    </sensor>

Rotary encoder
--------------

Class header: ``Stonefish\sensors\scalar\RotaryEncoder.h``

Torque (1-axis)
---------------

Class header: ``Stonefish\sensors\scalar\Torque.h``

Force and torque (6-axis)
-------------------------

Class header: ``Stonefish\sensors\scalar\ForceTorque.h``


Link sensors
===================

Class header: ``Stonefish\sensors\scalar\LinkSensor.h``

These sensors are attached to the robot links and measure motion related or environment related quantities.

The link sensors share the following common properties:

1) **History length**: the size of the measurement buffer

2) **Link name** the name of the robot link the sensor is attached to

.. code-block:: xml
    
    <sensor name="..." rate="..." type="..." history="{1}">
        <!-- more specific definitions here -->
        <link name="{2}">
        <!-- common definitions here -->
    </sensor>

IMU
---


Odometry
--------

GPS
---

Compass
-------

Pressure
--------

Doppler velocity log (DVL)
--------------------------

Profiler
--------

Multi-beam sonar
----------------

Vision sensors
==============

Class header: ``Stonefish\sensors\VisionSensor.h``

The implementation of these sensors is based on capturing and processing of a virtual image, generated by the GPU. 
This can be used straight forward to simulate virtual cameras. Moreover, different types of sonar can be simulated by capturing depth images, instead of color images, and processing them in a specific way.

Color camera
------------

Class header: ``Stonefish\sensors\vision\ColorCamera.h``

Depth camera
------------

Class header: ``Stonefish\sensors\vision\DepthCamera.h``


Forward-looking sonar (FLS)
---------------------------

Class header: ``Stonefish\sensors\vision\FLS.h``

Mechanical scanning imaging sonar (MSIS)
----------------------------------------

Class header: ``Stonefish\sensors\vision\MSIS.h``

Side-scan sonar (SSS)
---------------------

Class header: ``Stonefish\sensors\vision\SSS.h``